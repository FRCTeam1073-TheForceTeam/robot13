<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Ultimate Ascent Code: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ultimate Ascent Code
   </div>
   <div id="projectbrief">Code to control the mechanisms on FIRST Team 1073&#39;s 2013 Robot - Ursa Minor</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>#2013 Ultimate Ascent <a class="el" href="class_robot.html">Robot</a> Code</p>
<p>This is the code that runs on FIRST Team 1073's Ultimate Ascent &mdash; <b>Ursa Minor!!!</b></p>
<p>It uses an external repository that we wrote to provide for better global control of our hardware called <code>WPILibExtensions</code>.</p>
<p>To make sure that all submodules are obtained, and that fun stuff - run the following: </p>
<pre class="fragment">            #first time
            git submodule init
            #other times
            git submodule update
            #pulling latest branch, not always advised - generally the commit in .gitmodules is what you want
            cd WPILibExtensions
            git checkout master
            git pull
</pre><h2>GSR</h2>
<p>We'll be playing at the Granite State Regional in Manchester New Hampshire pretty soon - come check us out! And of course, best of luck to everyone out there in your competitions.</p>
<p>#FRC 1073 Scripts Batch and shell files exist for automating the following tasks:</p>
<h2>CleanUpRobotBuilder.bat</h2>
<p>Deletes Temp files generated by <a class="el" href="class_robot.html">Robot</a> Buidler</p>
<h2>GetDashboard.bat</h2>
<p>Clones Dashboard 2-levels above this directory (mainly used in setting up a working robot13 build)</p>
<h2>submodule.bat</h2>
<p>Refreshed submodules in the directory up above this one</p>
<h2>sync.bat</h2>
<p>Pulls and pushes changes in the working git repository</p>
<p>#WPILib Extensions This library is a set of C++ classes that add more functionality to the FRC WPI Library. These classes are written used by <a href="http://theforceteam.com">FRC Team 1073: The Force Team</a> in our <a href="https://github.com/FRCTeam1073-TheForceTeam/robot13">Ultimate Ascent Code</a>, and could probably be used to save you time and sanity when programming your.</p>
<p>The following Document explains all of our tools and the functionality they will add to your robot, as well as how to use them. <b>Don't waste time fiddling with the stock library, when you can get some great free help here from Team 1073 :)</b></p>
<h2>Usage</h2>
<p>To use any of these tools, simply include the global header file <a class="el" href="_w_p_i_lib_extensions_8h.html">WPILibExtensions.h</a> with the following code:</p>
<p>``` #include "WPILibExtensions/WPILibExtensions.h" ```</p>
<p><em>Note that this statement assumes that the WPILibExtensions directory was cloned in the root of your WindRiver project.</em></p>
<p>These classes extend off items in Brad Miller's <code>WPILib</code> to add even more functionality to your robot codebase. We hope that they will be of help to you! If you ever need help, or want to see a feature added, you're welcome to talk over this github repository, or to code the feature in yourself!</p>
<h2>Contents:</h2>
<p>**<a href="#Tools">Tools:</a>** These tools provide access to more functionality with the WPILib.</p>
<ul>
<li><a href="#CommonFunctions">CommonFunctions</a> - Not much to say here, just contains some inline math functions that we'd usually otherwise end up writing at like five different spots in our code.</li>
<li><a href="#LimitSwitch">LimitSwitch</a> - Easily integrate Digital Limit Switches into code without worrying about equaling a return value</li>
<li><a href="#SmartCANJaguar">SmartCANJaguar</a> - Contains functions for manipulating the mdoe a CANJaguar is in (<em>which is usually done in several calls</em>), and provides Stall Detection and Global Inversion. Very Useful.</li>
<li><a href="#SmartGyro">SmartGyro</a> - A class to manipulate the values that a Gyro returns. Globally get angle measurements represented however you want.</li>
<li><a href="#SmartJoystick">SmartJoystick</a> - Gain full control of your joysticks by adding cubic and extreme algorithims, across all axis. Functionality like axis inversion is can be added in easily. Functions to get the fickle Hat axis on a joystick are also included.</li>
<li><a href="#Stallable">Stallable</a> - Easily add Stall Detection to a <code>CANJaguar</code> and <code>AnalogEncoder</code> so you don't burn out your motors!</li>
</ul>
<p>**<a href="#Commands">Commands:</a>** These commands provide quick utility features to make debugging easier.</p>
<ul>
<li><a href="#InterruptSubsystem">InterruptSubsystem</a> - Takes a pointer to a WPILib <code>Subsystem</code> and interrupts all WPILib <code>Command</code>s that are using it.</li>
<li><a href="#PrintStallData">PrintStallData</a> - Prints to Standard Out voltage data regarding a device that is an implementation of <a href="#Stallable">Stallable</a></li>
</ul>
<p><a class="anchor" id="Tools"></a> </p>
<h2>Tools</h2>
<p><a class="anchor" id="CommonFunctions"></a> </p>
<h3>Common Functions</h3>
<p>Basic math functions and constants that are implemented as macros.</p>
<p><a class="anchor" id="LimitSwitch"></a> </p>
<h3>LimitSwitch</h3>
<p>Simple inline boolean function for doing a quick check for a Limit Switch being pressed. No more confusing logic with the pull up resistor, <code>==0</code>, <code>==1</code>, etc. Instead, just call <code><a class="el" href="_limit_switch_8h.html#aaded19d65fe5ee0d15fda59a47f88ebf">LimitPressed(DigitalInput* input)</a></code> </p>
<pre class="fragment">            //simple check for limit Switch Press
            DigitalInput* limitSwitch = new DigitalInput(1);
            bool isPressed = LimitPressed(limitSwitch);
</pre><p><a class="anchor" id="SmartCANJaguar"></a> </p>
<h3><a class="el" href="class_smart_c_a_n_jaguar.html">SmartCANJaguar</a></h3>
<p>A class that provides some useful functions to <code>CANJaguar</code> </p>
<h4>Inversion</h4>
<p><code><a class="el" href="class_smart_c_a_n_jaguar.html">SmartCANJaguar</a></code>s can easily be inverted by calling the method <code>Invert</code> on them. This usually has to happen because motors are mounted or wired differently than the code thinks they are. Usuaully we'd multiply whatever we set by <code>-1</code> but this creates for sloppy code. <b>Inverted <code><a class="el" href="class_smart_c_a_n_jaguar.html">SmartCANJaguar</a></code>s provide for global support and keeps the code clean</b> </p>
<pre class="fragment">            SmartCANJaguar* rightDrive = new SmartCANJaguar(2);             //make jag
            rightDrive-&gt;Invert();           //Invert Jag
            bool check = rightDrive-&gt;IsInverted();          //optional debug check to see if the Jag is inverted
            rightDrive-&gt;Invert();           //put it back

            //or, invert a SmartCANJaguar right in its constructor
            SmartCANJaguar* leftDrive = new SmartCANJaguar(1, true);        //constructed with inversion
            SmartCANJaguar* rightDrive = new SmartCANJaguar(2, fakse);      //constructed without inversion
            SmartCANJaguar* discLauncher = new SmartCANJaguar(3);                           //constructed without inversion
</pre><h4>Easily change <code>CANJaguar</code> Modes</h4>
<p>When using a <code>CANJaguar</code>, you often have to tell the cRIO how it will be used. This usually involves calling several <code>CANJaguar</code> functions in order to tell it you want to set it based off of encoder readings (<code>CANJaguar::kSpeed</code>), or by applying a percantage of allocatable voltage (<code>CANJaguar::kVoltage</code>). With <code><a class="el" href="class_smart_c_a_n_jaguar.html">SmartCANJaguar</a></code> these modes can be easily applied. (<em>note that encoder configuration varies from Jaguar to Jaguar, and you might have to adapt these calls to match your specific hardware configuration...</em>) </p>
<pre class="fragment">            SmartCANJaguar* leftDrive = new SmartCANJaguar(1);              //make jag
            leftDrive-&gt;ConfigureSpeedMode();                //speed mode
            //oh, no! an encoder failed - let's fall back to voltage
            leftDrive-&gt;ConfigureVoltageMode(); 
</pre><h4>Stall Detection</h4>
<p><code><a class="el" href="class_smart_c_a_n_jaguar.html">SmartCANJaguar</a></code>s implement <a href="#Stalable">Stallable</a> so they can easily be checked for Stall Detection. For more information on <code><a class="el" href="class_stallable.html">Stallable</a></code> <a href="#Stallable">click here</a>. </p>
<pre class="fragment">            //pseduo code for stall detection
            SmartCANJaguar* leftDrive = new SmartCANJaguar(1);
            leftDrive-&gt;Set(1000.0);         //drive
            while(!leftDrive-&gt;IsStall()){
                            leftDrive-&gt;ProcessVoltageData();                //update Stallable
            }
            leftDrive-&gt;Set(0.0);            //turn off motor, we have a stall
</pre><h4>Check if the CANJaguar exists on the 2CAN Bus</h4>
<p>To do a diagnostic check to see if the 2CAN Bus can reach your CANJaguar hardware, just call the boolean method <code><a class="el" href="class_smart_c_a_n_jaguar.html#aec0dd9f3f35a9dc97d16b98bf7aea717">SmartCANJaguar::ExistsOnBus()</a></code> </p>
<pre class="fragment">            SmartCANJaguar* leftDrive = new SmartCANJaguar(1);
            if(leftDrive-&gt;ExistsBus()){
                            printf("This exists\n");
            }
            else{
                            printf("This doesn't exist\n");
            }
</pre><p><a class="anchor" id="SmartGyro"></a> </p>
<h3><a class="el" href="class_smart_gyro.html">SmartGyro</a></h3>
<p>The <code>WPILib Gyro</code> class returns angle measurements in Radians/pi. This is useful for counting how many pis you have, but we don't like this form of measuring angles. When constructing a <code><a class="el" href="class_smart_gyro.html">SmartGyro</a></code> it will behave just like a <code>Gyro</code> but the data it returns can be manipulated to return degrees or radians, as well. By having an extension class to manipulate these values, you are warranted security, as every call to <code><a class="el" href="class_smart_gyro.html#a1de735ccda9598be11608ee0e42b99ae">SmartGyro::GetAngle</a></code> will return the same value, as opposed to manipulating what <code>Gyro::GetAngle</code> returns throughout your code.</p>
<h4>Changing Gyro Mode</h4>
<p>SmartGyro* gyro = new SmartGyro(1); float angle = gyro-&gt;GetAngle(); //default gyro-&gt;SetGyroMode(radians); angle = gyro-&gt;GetAngle(); //now in radians gyro-&gt;SetGyroMode(degrees); gyro-&gt;GetAngle(); //now in degrees gyro-&gt;SetGyroMode(radiansOverPi); //back to default</p>
<p><a class="anchor" id="SmartJoystick"></a> </p>
<h3><a class="el" href="class_smart_joystick.html">SmartJoystick</a></h3>
<p>A class that extends the <code>Joystick</code> class. Provides for a ton of extra functionality! Here's how to make one. </p>
<pre class="fragment">            //here's a normal WPILib Joystick
            Joystick* operatorStick = new Joystick(1); //basic functionality joystick///
            //simply add the word Smart in front of Joystick and you're all set
            SmartJoystick* operatorStick = new SmartJoystick(1); //lots of functionality, fully compatible with the WPILib  as well!
</pre><h4>Configurable JoystickModes Modes</h4>
<p>A <code><a class="el" href="class_smart_joystick.html">SmartJoystick</a></code> can be set to three modes <code>normal</code>, <code>extreme</code> and <code>cubic</code>. These modes alter the values that <code><a class="el" href="class_smart_joystick.html#afc12b8e7d2cbd433f617a0f86976aa19">SmartJoystick::GetX()</a></code> and <code><a class="el" href="class_smart_joystick.html#aadd088694906d7ac46eb8cdd5a8bc016">SmartJoystick::GetY()</a></code> return. <em>Note that all Joystick Modes supprort a small Dead Zone where Joystick input is ignored. This allows for the sticks to remain relatively close to a neutral position irl, but are still neutral in the software</em> </p>
<h5>Normal</h5>
<p>A <code><a class="el" href="class_smart_joystick.html">SmartJoystick</a></code> in the <code>normal</code> mode returns regular <code>Joystick</code> when <code><a class="el" href="class_smart_joystick.html#afc12b8e7d2cbd433f617a0f86976aa19">SmartJoystick::GetX()</a></code> and <code><a class="el" href="class_smart_joystick.html#aadd088694906d7ac46eb8cdd5a8bc016">SmartJoystick::GetY()</a></code> are called. </p>
<pre class="fragment">            operatorStick-&gt;SetJoystickMode(SmartJoystick::normal);
            float normalx = operatorStick-&gt;GetX(), normaly = operatorStick-&gt;GetY();
</pre> <h5>Extreme</h5>
<p>A <code><a class="el" href="class_smart_joystick.html">SmartJoystick</a></code> in the <code>extreme</code> mode returns a full reading if the Joystick is outside of the Dead Zone. This allows operators to quickly ramp up the value of a Joystick while nudging it only slightly. Extremely useful for making a robot sprint across the field really fast. </p>
<pre class="fragment">            operatorStick-&gt;SetJoystickMode(SmartJoystick::extreme);
            //stick is only nudged forward just a little bit…
            float extremey = operatorStick-&gt;GetY();         // equals 1.0
            //stick is only nduged backwards just a little bit…
            extremey = operatorStick-&gt;GetY();                                               //equals -1.0
</pre> <h5>Cubic</h5>
<p>This mode is a favorite with some of our drivers. It allows Joystick input to be scaled by a cubic factor to allow for a smoother acceleration rate as a Joystick is moved further and further forward or back. </p>
<h4>Invertable Axis</h4>
<p>Quickly invert a <code><a class="el" href="class_smart_joystick.html">SmartJoystick</a></code> Axis without having to change values all over your code. Call invert once, and your <code><a class="el" href="class_smart_joystick.html">SmartJoystick</a></code> inversion will be on any call to the Joystick's axis. </p>
<pre class="fragment">            float y = operatorStick-&gt;GetY();                //Get the Y value... oh no, it's upside down!!!
            operatorStick-&gt;InvertYAxis();   //Simple Call to invert the Axis, works on X, Y, and Z
            y = operatorStick-&gt;GetY();      //The Y value is know -1 times what it was earlier
</pre> <h4>Hat Axis</h4>
<p>Many Joysticks have a hat on the top of the Joystick, Generally these live on Axis 5 and 6 of the Joystick. With <code><a class="el" href="class_smart_joystick.html">SmartJoystick</a></code> it's easy to get their values. </p>
<pre class="fragment">            //no more dealing with Axis Parameters
            float hatx = operatorStick-&gt;GetHatX();
            float haty = operatorStick-&gt;GetHatY();
</pre><p><a class="anchor" id="Stallable"></a> </p>
<h3><a class="el" href="class_stallable.html">Stallable</a></h3>
<p>Abstract class to detect a stall in an Encoder or other voltage source. Simply extend off this class and implement <code>float <a class="el" href="class_stallable.html#ad26e53fc5a5f966d90ac8d4260396fac">Stallable::GetVoltageSource()</a> = 0</code> to establish an object as a <code><a class="el" href="class_stallable.html">Stallable</a></code>. From there, call <code>void <a class="el" href="class_stallable.html#aa46febebd704a596d0972a2ea3afada2">Stallable::ProcessVoltageData()</a></code> to read a voltage from the implemented float method, and <code>bool <a class="el" href="class_stallable.html#a962cda7d6d2441f894e2862b8e49dce7">Stallable::IsStall()</a></code> to check for a stall. </p>
<h4>Implementations:</h4>
<h5><a class="el" href="class_stallable_analog_encoder.html">StallableAnalogEncoder</a></h5>
<p>A <code><a class="el" href="class_stallable.html">Stallable</a></code> that extends off of <code>AnalogChannel</code> to add stall detection to common Analog Encoders </p>
<h5>StallableCANJaguar</h5>
<p>CANJaguars can implement <code><a class="el" href="class_stallable.html">Stallable</a></code> as well. We provide a class that does this with <code><a class="el" href="class_smart_c_a_n_jaguar.html">SmartCANJaguar</a></code>, if you don't want to use that class, simply implement <code><a class="el" href="class_stallable.html#ad26e53fc5a5f966d90ac8d4260396fac">Stallable::GetVoltageSource()</a></code> by returning <code>CANJaguar::GetOutputVoltage()</code></p>
<p>Want more Stall Detection? <em>Simply extend Stallabe and implement</em> <code>float <a class="el" href="class_stallable.html#ad26e53fc5a5f966d90ac8d4260396fac">Stallable::GetVoltageSource()</a> = 0</code></p>
<p><a class="anchor" id="Commands"></a> </p>
<h2>Commands</h2>
<p>WPILib <code>Command</code>s that make debugging and code manipulation easier.</p>
<p><a class="anchor" id="InterruptSubsystem"></a> </p>
<h3><a class="el" href="class_interrupt_subsystem.html">InterruptSubsystem</a></h3>
<p>Takes a pointer to a WPILib <code>Subsystem</code> and uses <code>Subsystem::Requires(Subsystem*)</code> to interrupt all WPILib <code>Command</code>s that use that <code>Subsystem</code>. </p>
<pre class="fragment">            Subsystem* driveTrain = new Subsystem("DriveTrain"); //basic subsystem
            InterruptSubsysem* command = new InterruptSubsystem(driveTrain);
            command-&gt;Start();               //Interrupts all Subsystems that use DriveTrain
</pre><p><a class="anchor" id="PrintStallData"></a> </p>
<h3><a class="el" href="class_print_stall_data.html">PrintStallData</a></h3>
<p>Prints out the collected voltage data of a <code><a class="el" href="class_stallable.html">Stallable</a></code> device </p>
<pre class="fragment">            StallableCANJaguar* leftMotor = new StallableCANJaguar(1); //here's a motor
            PrintStallData* command = new PrintStallData(leftMotor); //make command
            command-&gt;Start(); //Starts command, data will be printed.</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 24 2013 01:41:19 for Ultimate Ascent Code by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
